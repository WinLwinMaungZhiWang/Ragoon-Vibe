/*! turn.js 4.1.0 | (c) 2012 Emmanuel Garcia | Licensed under MIT */
(function($){"use strict";var has3d=false,detect3d=function(){var el=document.createElement("p"),has3d,transforms={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(el,null);for(var t in transforms){if(el.style[t]!==undefined){el.style[t]="translate3d(1px,1px,1px)";has3d=window.getComputedStyle(el).getPropertyValue(transforms[t])}}document.body.removeChild(el);return(has3d!==undefined&&has3d.length>0&&has3d!=="none")};has3d=detect3d();var vendor="",transitionEnd="";if($.cssHooks!==undefined){$.cssHooks["rotate"]= {get:function(elem,computed,extra){return $(elem).data("rotate")||0},set:function(elem,value){$(elem).data("rotate",value);elem.style[vendor+"transform"]="rotate("+value+"deg)"}};$.cssHooks["translate"]= {get:function(elem,computed,extra){return $(elem).data("translate")||"0,0"},set:function(elem,value){$(elem).data("translate",value);elem.style[vendor+"transform"]="translate("+value+")"}}}function checkBrowser(){var ua=navigator.userAgent;var match=ua.match(/(chrome)[ \/]([\w.]+)/i)||ua.match(/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/i)||ua.match(/(webkit)[ \/]([\w.]+)/i)||ua.match(/(opera)(?:.*version|)[ \/]([\w.]+)/i)||ua.match(/(msie) ([\w.]+)/i)||ua.indexOf("Trident")>=0&&ua.match(/rv:([\w.]+)/)||[];return{browser:match[1]||"",version:match[2]||"0"}}var browser=checkBrowser();vendor=(function(){if(browser.browser=="webkit"||browser.browser=="chrome"||browser.browser=="safari")return"webkit";if(browser.browser=="opera")return"O";if(browser.browser=="msie"||navigator.userAgent.indexOf("Trident")>=0)return"ms";if(browser.browser=="mozilla")return"Moz";return""})();transitionEnd=(vendor=="webkit")?"webkitTransitionEnd":(vendor=="O")?"transitionend":(vendor=="Moz")?"transitionend":"transitionend";$.fn.turn=function(options){if(this.length===0)return this;if(typeof options=="string"){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var book=$(this).data("turnjs");if(!book)return;if(typeof book[options]=="function")book[options].apply(book,args);else if(options=="destroy")$(this).removeData("turnjs")})}return this.each(function(){var $this=$(this);var book=$this.data("turnjs");if(book)return book;book=new Turn($this,options);$this.data("turnjs",book)})};function Turn($obj,options){this.options=$.extend({width:500,height:300,display:"double",acceleration:true,when:{}},options);this.init($obj)}Turn.prototype={init:function($element){var that=this;this.$el=$element.css({position:"relative",width:this.options.width,height:this.options.height});this.$el.addClass("turnjs").bind(transitionEnd,function(){});this.pages=[];this.createStructure();if(this.options.when&&this.options.when.turning)this.$el.bind("turning",this.options.when.turning);if(this.options.when&&this.options.when.turned)this.$el.bind("turned",this.options.when.turned)},createStructure:function(){var that=this;this.$el.children().each(function(i,page){that.addPage($(page),i+1)})},addPage:function($page,pageNumber){$page.css({position:"absolute",width:"100%",height:"100%",top:0,left:0});this.pages[pageNumber]=$page},turn:function(pageNumber){var that=this;if(!this.pages[pageNumber])return;this.$el.children().hide();this.pages[pageNumber].show();this.$el.trigger("turned",[pageNumber])},next:function(){var current=this.currentPage||1;this.turn(current+1)},previous:function(){var current=this.currentPage||1;this.turn(current-1)}}})(jQuery);

