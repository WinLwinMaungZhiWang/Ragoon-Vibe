<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rangoon_Vibe</title>

<style>
    body {
        background: #222;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        font-family: sans-serif;
        overflow: hidden;
        touch-action: manipulation; /* improve mobile tap */
    }

    .viewer {
        width: 95vw;
        max-width: 600px;
        height: 180vw;
        max-height: 900px;
        position: relative;
        perspective: 2000px;
        cursor: pointer;
    }

    .page {
        width: 100%;
        height: 100%;
        position: absolute;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        backface-visibility: hidden;
        transform-style: preserve-3d;
        border-radius: 8px;
    }

    .flip-page {
        transition: transform 0.7s ease;
        transform-origin: left center;
    }

    .flip-page.reverse {
        transform-origin: right center;
    }
</style>
</head>
<body>

<div class="viewer" id="viewer">
    <div id="currentPage" class="page"></div>
    <div id="flipPage" class="page flip-page"></div>
</div>

<script>
let page = 1;
let maxPages = 7;

const viewer = document.getElementById("viewer");
const currentPage = document.getElementById("currentPage");
const flipPage = document.getElementById("flipPage");

function showPage(number) {
    currentPage.style.backgroundImage = `url('page${number}.png')`;
}

// initial
showPage(page);

// Flip forward
function nextPage() {
    flipPage.classList.remove("reverse");
    flipPage.style.transformOrigin = "left center";

    let nextPageNum = page + 1;
    if (nextPageNum > maxPages) nextPageNum = 1;

    flipPage.style.backgroundImage = `url('page${nextPageNum}.png')`;
    flipPage.style.transform = "rotateY(-180deg)";

    setTimeout(() => {
        page = nextPageNum;
        showPage(page);
        flipPage.style.transform = "rotateY(0deg)";
    }, 700);
}

// Flip backward
function prevPage() {
    flipPage.classList.add("reverse");
    flipPage.style.transformOrigin = "right center";

    let prevPageNum = page - 1;
    if (prevPageNum < 1) prevPageNum = maxPages;

    flipPage.style.backgroundImage = `url('page${prevPageNum}.png')`;
    flipPage.style.transform = "rotateY(180deg)";

    setTimeout(() => {
        page = prevPageNum;
        showPage(page);
        flipPage.style.transform = "rotateY(0deg)";
    }, 700);
}

// Detect tap/click on left or right
viewer.addEventListener("click", (e) => {
    const rect = viewer.getBoundingClientRect();
    const x = e.clientX - rect.left; // x inside viewer

    if (x < rect.width / 2) {
        prevPage();
    } else {
        nextPage();
    }
});
</script>

</body>
</html>

