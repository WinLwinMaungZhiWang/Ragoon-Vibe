<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rangoon_Vibe</title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
        overflow: hidden;
        background: #222;
        font-family: sans-serif;
    }

    .viewer {
        position: relative;
        width: 100vw;
        height: 100vh;
        perspective: 2000px;
        cursor: pointer;
    }

    .page {
        position: absolute;
        width: 100%;
        height: 100%;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        backface-visibility: hidden;
        transform-style: preserve-3d;
    }

    .flip-page {
        transition: transform 0.7s ease;
        transform-origin: left center;
    }

    .flip-page.reverse {
        transform-origin: right center;
    }
</style>
</head>
<body>

<div class="viewer" id="viewer">
    <div id="currentPage" class="page"></div>
    <div id="flipPage" class="page flip-page"></div>
</div>

<script>
let page = 1;
const maxPages = 7;

const viewer = document.getElementById("viewer");
const currentPage = document.getElementById("currentPage");
const flipPage = document.getElementById("flipPage");

function showPage(number) {
    currentPage.style.backgroundImage = `url('page${number}.png')`;
}

// initial
showPage(page);

function nextPage() {
    flipPage.classList.remove("reverse");
    flipPage.style.transformOrigin = "left center";

    let nextPageNum = page + 1;
    if (nextPageNum > maxPages) nextPageNum = 1;

    flipPage.style.backgroundImage = `url('page${nextPageNum}.png')`;
    flipPage.style.transform = "rotateY(-180deg)";

    setTimeout(() => {
        page = nextPageNum;
        showPage(page);
        flipPage.style.transform = "rotateY(0deg)";
    }, 700);
}

function prevPage() {
    flipPage.classList.add("reverse");
    flipPage.style.transformOrigin = "right center";

    let prevPageNum = page - 1;
    if (prevPageNum < 1) prevPageNum = maxPages;

    flipPage.style.backgroundImage = `url('page${prevPageNum}.png')`;
    flipPage.style.transform = "rotateY(180deg)";

    setTimeout(() => {
        page = prevPageNum;
        showPage(page);
        flipPage.style.transform = "rotateY(0deg)";
    }, 700);
}

// tap on left/right half to flip pages
viewer.addEventListener("click", (e) => {
    const rect = viewer.getBoundingClientRect();
    const x = e.clientX - rect.left;

    if (x < rect.width / 2) {
        prevPage();
    } else {
        nextPage();
    }
});

// optional: handle window resize to fit screen dynamically
window.addEventListener("resize", () => {
    showPage(page);
});
</script>

</body>
</html>

